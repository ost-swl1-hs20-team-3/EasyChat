<ng-container *ngFor="let theMsg of chatService.messages; let indexOfMessage=index;" [ngSwitch]="theMsg.getType()">
  <ec-chat-bubble *ngSwitchCase="MessageType.ChatMessage" [chatMessage]="theMsg" [showUsername]="showUsername(theMsg, indexOfMessage)"></ec-chat-bubble>
  <ec-chat-info-message-new-user *ngSwitchCase="MessageType.UserConnected" [message]="theMsg">
  </ec-chat-info-message-new-user>
  <ec-chat-info-message-username-changed *ngSwitchCase="MessageType.UserNameChanged" [message]="theMsg">
  </ec-chat-info-message-username-changed>
</ng-container>
